<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:fragment="head">
    <meta charset="UTF-8">
    <title th:text="${title} ?: 'HÃ´pital'">HÃ´pital</title>
    <style>
        nav { background: #343a40; padding: 0; margin-bottom: 20px; }
        nav ul { list-style: none; margin: 0; padding: 0; display: flex; }
        nav li { margin: 0; }
        nav a { display: block; color: white; text-decoration: none; padding: 15px 20px; }
        nav a:hover { background: #495057; }
        .nav-right { margin-left: auto; }
    </style>
</head>

<body>
<nav th:fragment="nav">
    <ul>
        <li><a href="/">Accueil</a></li>
        <li><a href="/patients">Patients</a></li>
        <li><a href="/appointments">Rendez-vous</a></li>

        <!-- ðŸ” Menu Admin visible uniquement pour le rÃ´le 'Admin' -->
        <li sec:authorize="hasRole('Admin')">
            <a href="/admin">Administration</a>
        </li>

        <!-- Menu utilisateur connectÃ© -->
        <li class="nav-right" sec:authorize="isAuthenticated()">
            <span style="color:white; padding:15px;">
                Bonjour, <span sec:authentication="principal.username"></span>
                (<span sec:authentication="principal.authorities"></span>)
            </span>
        </li>
        <li class="nav-right" sec:authorize="isAuthenticated()">
            <a href="/logout">DÃ©connexion</a>
        </li>
        <li class="nav-right" sec:authorize="!isAuthenticated()">
            <a href="/login">Connexion</a>
        </li>
    </ul>
</nav>
</body>
</html>